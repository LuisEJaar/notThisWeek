<%- include('partials/header') -%>
<div class="container">
  <div class="row mt-5">
    <div class="col-5">
      <div>
          <p><strong>User Name</strong>: <%= user.userName %></p>
          <p><strong>Email</strong>: <%= user.email %></p>
      </div>
      <% if(user.type == "dm"){%>
        <div class="mt-3">
          <h2>Add a game:</h2>
          <form action="/post/createPost" enctype="multipart/form-data" method="POST">
            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="mb-3">
              <label for="caption" class="form-label">Description</label>
              <textarea class="form-control" id="caption" name="caption" required></textarea>
            </div>
            <div class="mb-3">
              <label for="imgUpload" class="form-label">Image</label>
              <input type="file" class="form-control" id="imageUpload" name="file" required>
            </div>
            <button type="submit" class="btn btn-primary" value="Upload">Submit</button>
          </form>
        </div>
      <%} %>
    </div>
    <div class="mt-3">
      <% if(visitor.id != user.id){%>
        <h2>Player <%= user.userName %>'s Games:</h2> 
      <%} else {%>
        <h2>Your Games:</h2>  
      <%}%>
      <ul class="row list-unstyled">
      <% for(var i=0; i<posts.length; i++) {%>
        <li class="col-6 justify-content-between mt-3">
          <a href="/post/<%= posts[i]._id%>">
            <figure class="d-flex flex-column align-items-center">
              <img class="img-fluid rounded profileGame" src="<%= posts[i].image%>">
              <figcaption class="text-center"><%= posts[i].title%></figcaption>
            </figure>
          </a>
        </li>
      <% } %>
      </ul>
    </div>  
  </div>
</div>

<%- include('partials/footer') -%>